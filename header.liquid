<header class="bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50">
  <div class="container">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="{{ routes.root_url }}" class="flex items-center space-x-2">
          {% if section.settings.logo != blank %}
            <img src="{{ section.settings.logo | img_url: 'medium' }}" 
                 alt="{{ shop.name }}" 
                 class="h-8 w-auto"
                 loading="lazy">
          {% else %}
            <h1 class="text-xl font-serif font-light tracking-wide">{{ shop.name }}</h1>
          {% endif %}
        </a>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        {% for link in linklists[section.settings.main_menu].links %}
          <a href="{{ link.url }}" 
             class="nav-link text-sm font-medium hover:text-primary transition-colors">
            {{ link.title }}
          </a>
        {% endfor %}
        
        <!-- Cart -->
        <a href="{{ routes.cart_url }}" 
           class="nav-link relative flex items-center space-x-1"
           data-cart-toggle>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
          </svg>
          <span class="text-sm" data-cart-count>{{ cart.item_count }}</span>
        </a>
      </nav>

      <!-- Mobile menu button -->
      <button class="md:hidden p-2" 
              data-mobile-menu-toggle
              aria-label="Toggle mobile menu">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <nav class="hidden md:hidden py-4 border-t border-border" data-mobile-menu>
      <div class="space-y-4">
        {% for link in linklists[section.settings.main_menu].links %}
          <a href="{{ link.url }}" 
             class="block nav-link text-sm font-medium hover:text-primary transition-colors py-2">
            {{ link.title }}
          </a>
        {% endfor %}
        
        <div class="pt-4 border-t border-border">
          <a href="{{ routes.cart_url }}" 
             class="flex items-center space-x-2 nav-link text-sm font-medium hover:text-primary transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
            </svg>
            <span>Cart ({{ cart.item_count }})</span>
          </a>
        </div>
      </div>
    </nav>
  </div>
</header>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "link_list",
      "id": "main_menu",
      "label": "Main Menu",
      "default": "main-menu"
    }
  ]
}
{% endschema %}
